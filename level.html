<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>SDGs æ€§åˆ¥å¹³æ¬Š - æƒ…å¢ƒé¡Œï¼ˆç¬¬äºŒé—œï¼‰</title>
<style>
  body {
    margin: 0;
    font-family: "Microsoft JhengHei", sans-serif;
    background: url('3.jpg') no-repeat center center/cover;
    height: 100vh;
    overflow: hidden;
    position: relative;
  }

  header {
    position: absolute;
    top: 10px;
    left: 20px;
    font-size: 28px;
    font-weight: bold;
    color: white;
    text-shadow: 2px 2px 4px black;
    z-index: 5;
  }

  #score {
    position: absolute;
    top: 10px;
    right: 20px;
    font-size: 22px;
    font-weight: bold;
    color: white;
    text-shadow: 2px 2px 4px black;
    z-index: 5;
  }

  .flower {
    position: absolute;
    width: 90px;
    height: 90px;
    background: url('4.png') no-repeat center center/contain;
    cursor: pointer;
    transition: transform 0.3s;
    animation: float 4s infinite ease-in-out;
  }

  .flower:hover {
    transform: scale(1.1);
  }

  @keyframes float {
    0%,100% { transform: translateY(0); }
    50% { transform: translateY(-12px); }
  }

  #instructionBox {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background: rgba(255,255,255,0.95);
    border-radius: 12px;
    padding: 30px;
    width: 80%;
    max-width: 600px;
    text-align: left;
    box-shadow: 0 0 20px rgba(0,0,0,0.5);
    z-index: 20;
  }

  #instructionBox h2 {
    text-align: center;
    margin-bottom: 20px;
  }

  #startBtn {
    display: block;
    margin: 20px auto 0;
    padding: 15px 40px;
    font-size: 20px;
    font-weight: bold;
    background-color: #4caf50;
    color: white;
    border: none;
    border-radius: 8px;
    cursor: pointer;
  }

  #questionBox {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background: rgba(255,255,255,0.95);
    border-radius: 10px;
    padding: 25px;
    width: 80%;
    max-width: 600px;
    text-align: center;
    box-shadow: 0 0 15px rgba(0,0,0,0.5);
    display: none;
    z-index: 10;
  }

  .dropzone {
    width: 45%;
    min-height: 120px;
    border: 3px dashed #888;
    border-radius: 10px;
    display: inline-block;
    vertical-align: top;
    margin: 10px;
    padding: 10px;
  }

  .dropzone h4 {
    margin-top: 0;
    color: #333;
  }

  .draggable {
    background: #ff7f50;
    color: white;
    padding: 8px;
    margin: 8px;
    border-radius: 6px;
    cursor: grab;
  }

  #finishBox {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background: rgba(255,255,255,0.95);
    border-radius: 12px;
    padding: 30px;
    width: 400px;
    text-align: center;
    box-shadow: 0 0 15px rgba(0,0,0,0.6);
    display: none;
    z-index: 20;
  }

  #finishBox h2 {
    font-size: 28px;
    margin-bottom: 20px;
  }

  #finishBox button {
    margin-top: 15px;
    padding: 12px 25px;
    font-size: 20px;
    font-weight: bold;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    box-shadow: 2px 2px 5px rgba(0,0,0,0.3);
  }

  #finishBox button.retry {
    background-color: #e53935;
    color: white;
  }

  #finishBox button.next {
    background-color: white;
    color: #4caf50;
    font-weight: bold;
    border: 3px solid #4caf50;
  }

  audio {
    display: none;
  }

</style>
</head>
<body>

<audio autoplay loop>
  <source src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3" type="audio/mpeg">
</audio>

<header>SDGs æ€§åˆ¥å¹³æ¬Š - æƒ…å¢ƒé¡Œ</header>
<div id="score" style="display:none;">ç­”å°é¡Œæ•¸ï¼š0 / 10</div>

<!-- éŠæˆ²èªªæ˜ -->
<div id="instructionBox">
  <h2>éŠæˆ²èªªæ˜</h2>
  <p>â˜†è«‹é»é¸ç•«é¢ä¸­çš„èŠ±æœµï¼Œæ¯çµ„èŠ±æœµæœƒæ­é… 1 å€‹é¡Œçµ„ã€‚</p>
  <p>â˜†æ¯å€‹é¡Œçµ„éƒ½æœ‰ 2 å€‹è§€å¿µï¼Œè«‹å°‡è¡Œç‚ºæˆ–èªå¥æ‹–é€²ã€Œæ€§åˆ¥å¹³ç­‰ / ä¸å¹³ç­‰ã€å…©é‚Šçš„æ¡†ä¸­ã€‚</p>
  <p>â˜†çµå±€æœƒä¾ç­”å°é¡Œæ•¸çµ¦äºˆä¸åŒç­‰ç´šçš„çµæœï¼Œä¾‹å¦‚ï¼šå†åŠ æ²¹ã€é€²æ­¥ä¸­ã€å¹³æ¬Šé”äººã€‚</p>
  <p>â˜†å…¨éƒ¨åšç­”çµæŸï¼Œæœƒå¾—åˆ°å°æ‡‰çš„æŒ‘æˆ°ç´šåˆ¥ã€‚</p>
  <p>â˜›å¦‚æœç­‰ç´šæ˜¯ã€Œå†åŠ æ²¹ã€ã€ã€Œé€²æ­¥ä¸­ã€ï¼Œæœƒå‡ºç¾ã€Œå†æ¬¡æŒ‘æˆ°ã€æŒ‰éˆ•ï¼Œè«‹é‡æ–°æŒ‘æˆ°ã€‚</p>
  <p>â˜›å¦‚æœç­‰ç´šæ˜¯å¹³æ¬Šé”äºº(ç­”å° 8 é¡Œä»¥ä¸Š)ï¼Œæœƒå‡ºç¾ã€Œä¸‹è¼‰å­¸ç¿’è­‰æ›¸ã€æŒ‰éˆ•ï¼Œå¯ä»¥è£½ä½œå€‹äººçš„éé—œè­‰æ›¸å–”ï¼</p>
  <p>â˜†æŒ‘æˆ°çµæœå°æ‡‰çš„ç´šåˆ¥ï¼š0-3 é¡Œç‚ºã€Œå†åŠ æ²¹ã€ã€4-7 é¡Œç‚ºã€Œé€²æ­¥ä¸­ã€ã€8-10 é¡Œç‚ºã€Œå¹³æ¬Šé”äººã€ã€‚</p>
  <button id="startBtn">é–‹å§‹éŠæˆ²</button>
</div>

<!-- å•é¡Œå€ -->
<div id="questionBox">
  <h3>è«‹å°‡ä¸‹åˆ—è¡Œç‚ºæ‹–æ›³åˆ°æ­£ç¢ºçš„åˆ†é¡ä¸­</h3>
  <div id="dragItems"></div>
  <div>
    <div class="dropzone" id="equalZone">
      <h4>æ€§åˆ¥å¹³ç­‰ âœ…</h4>
    </div>
    <div class="dropzone" id="unequalZone">
      <h4>æ€§åˆ¥ä¸å¹³ç­‰ âŒ</h4>
    </div>
  </div>
  <button id="submitBtn">æäº¤ç­”æ¡ˆ</button>
</div>

<!-- çµæœè¦–çª— -->
<div id="finishBox">
  <h2 id="resultLevel"></h2>
  <button id="retryBtn" class="retry">é‡æ–°ç­”é¡Œ</button>
  <button id="nextBtn" class="next" style="display:none;">ä¸‹è¼‰å­¸ç¿’è­‰æ›¸</button>
</div>

<script>
const questionGroups = [
  { items:[ {text:"å¥³ç”Ÿä¹Ÿèƒ½æˆç‚ºå…¬å¸ä¸»ç®¡", type:"equal"}, {text:"å¥³æ€§æ‡‰åªè² è²¬å®¶å‹™", type:"unequal"} ] },
  { items:[ {text:"ç”·å¥³éƒ½èƒ½åƒåŠ èˆè¹ˆç¤¾", type:"equal"}, {text:"ç†å·¥ç§‘åªé©åˆç”·ç”Ÿ", type:"unequal"} ] },
  { items:[ {text:"å­¸æ ¡æä¾›ç”·å¥³åŒæ¨£é‹å‹•è³‡æº", type:"equal"}, {text:"æ¯”è³½åªé ’ççµ¦ç”·å­¸ç”Ÿ", type:"unequal"} ] },
  { items:[ {text:"çˆ¸çˆ¸ä¹Ÿèƒ½è«‹è‚²å¬°å‡", type:"equal"}, {text:"å¥³ç”Ÿä¸é©åˆç•¶ç§‘å­¸å®¶", type:"unequal"} ] },
  { items:[ {text:"å®¶åº­å®¶å‹™ç”±æˆå“¡å…±åŒåˆ†æ“”", type:"equal"}, {text:"ç”·ç”Ÿä¸ç”¨å¹«å¿™æ´—ç¢—", type:"unequal"} ] }
];

let correct=0, answered=0;
const startBtn = document.getElementById("startBtn");
const instructionBox = document.getElementById("instructionBox");
const scoreText = document.getElementById("score");
const questionBox = document.getElementById("questionBox");
const dragItems=document.getElementById("dragItems");
const equalZone=document.getElementById("equalZone");
const unequalZone=document.getElementById("unequalZone");
const submitBtn=document.getElementById("submitBtn");
const finishBox=document.getElementById("finishBox");
const resultLevel=document.getElementById("resultLevel");
const retryBtn=document.getElementById("retryBtn");
const nextBtn=document.getElementById("nextBtn");

// é–‹å§‹éŠæˆ²
startBtn.onclick = ()=>{
  instructionBox.style.display="none";
  scoreText.style.display="block";
  generateFlowers();
};

// ç”¢ç”ŸèŠ±æœµ
function generateFlowers(){
  for(let i=0;i<5;i++){
    const flower=document.createElement("div");
    flower.className="flower";
    flower.style.left=(Math.random()*80+10)+"%";
    flower.style.top=(Math.random()*40+50)+"%";
    flower.dataset.id=i;
    flower.addEventListener("click", ()=>openQuestion(flower));
    document.body.appendChild(flower);
  }
}

function openQuestion(flower){
  flower.style.display="none";
  const qIndex=parseInt(flower.dataset.id);
  const items=questionGroups[qIndex].items;
  dragItems.innerHTML="";
  equalZone.innerHTML="<h4>æ€§åˆ¥å¹³ç­‰ âœ…</h4>";
  unequalZone.innerHTML="<h4>æ€§åˆ¥ä¸å¹³ç­‰ âŒ</h4>";
  items.forEach(item=>{
    const div=document.createElement("div");
    div.className="draggable";
    div.textContent=item.text;
    div.draggable=true;
    div.dataset.type=item.type;
    dragItems.appendChild(div);
  });
  questionBox.style.display="block";
  enableDragDrop();
}

function enableDragDrop(){
  const draggables=document.querySelectorAll(".draggable");
  const dropzones=document.querySelectorAll(".dropzone");

  draggables.forEach(d=>{
    d.addEventListener("dragstart", e=>{
      e.dataTransfer.setData("text", e.target.dataset.type);
      e.dataTransfer.setData("text-id", e.target.textContent);
    });
  });

  dropzones.forEach(z=>{
    z.addEventListener("dragover", e=>e.preventDefault());
    z.addEventListener("drop", e=>{
      e.preventDefault();
      const text=e.dataTransfer.getData("text-id");
      const type=e.dataTransfer.getData("text");
      if([...z.querySelectorAll(".draggable")].some(d=>d.textContent===text)) return;
      const newItem=document.createElement("div");
      newItem.className="draggable";
      newItem.textContent=text;
      newItem.dataset.type=type;
      z.appendChild(newItem);
    });
  });
}

submitBtn.onclick=()=>{
  const eqItems=equalZone.querySelectorAll(".draggable");
  const unItems=unequalZone.querySelectorAll(".draggable");
  let localCorrect=0;
  eqItems.forEach(item=>{ if(item.dataset.type==="equal") localCorrect++; });
  unItems.forEach(item=>{ if(item.dataset.type==="unequal") localCorrect++; });
  correct+=localCorrect;
  answered+=2;
  scoreText.textContent=`ç­”å°é¡Œæ•¸ï¼š${correct} / 10`;
  questionBox.style.display="none";
  if(answered>=10) showResult();
};

function showResult(){
  finishBox.style.display="block";
  let level="";
  if(correct<=3) level="ğŸŒ± å†åŠ æ²¹";
  else if(correct<=7) level="ğŸŒ¼ é€²æ­¥ä¸­";
  else level="ğŸŒŸ å¹³æ¬Šé”äºº";

  resultLevel.textContent=`ä½ çš„ç­‰ç´šæ˜¯ï¼š${level}`;
  if(level==="ğŸŒŸ å¹³æ¬Šé”äºº"){
    nextBtn.style.display="inline-block";
    retryBtn.style.display="none";
  }else{
    nextBtn.style.display="none";
    retryBtn.style.display="inline-block";
  }
}

retryBtn.onclick=()=>location.reload();
nextBtn.onclick=()=>location.href="certificate.html";

</script>
</body>
</html>
