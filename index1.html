<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SDGs æ€§åˆ¥å¹³æ¬Š</title>
  <style>
    body {
      margin: 0;
      font-family: "Microsoft JhengHei", sans-serif;
      background: url('1.jpg') no-repeat center center/cover;
      height: 100vh;
      overflow: hidden;
      position: relative;
    }

    header {
      position: absolute;
      top: 10px;
      left: 20px;
      font-size: 24px;
      font-weight: bold;
      color: white;
      text-shadow: 1px 1px 3px black;
      z-index: 5;
    }

    #score {
      position: absolute;
      top: 10px;
      right: 20px;
      font-size: 20px;
      font-weight: bold;
      color: #fff;
      text-shadow: 1px 1px 3px black;
      z-index: 5;
    }

    .balloon {
      position: absolute;
      top: 0;
      width: 80px;
      height: 100px;
      background: url('2.jpg') no-repeat center center/contain;
      animation: float 8s infinite ease-in-out;
      opacity: 0.9;
      cursor: pointer;
      transition: transform 0.3s;
      z-index: 1;
    }

    .balloon:hover {
      transform: scale(1.1);
    }

    .hidden {
      display: none;
    }

    @keyframes float {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-20px); }
    }

    #questionBox {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: white;
      border-radius: 10px;
      padding: 20px;
      width: 300px;
      text-align: center;
      box-shadow: 0 0 10px rgba(0,0,0,0.5);
      display: none;
      z-index: 10;
    }

    #questionBox button {
      display: block;
      margin: 10px auto;
      width: 80%;
      padding: 8px;
      border: none;
      border-radius: 5px;
      background-color: #ff7f50;
      color: white;
      font-weight: bold;
      cursor: pointer;
    }

    #resultBox {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: rgba(255,255,255,0.95);
      border-radius: 10px;
      padding: 30px;
      width: 350px;
      text-align: center;
      box-shadow: 0 0 10px rgba(0,0,0,0.6);
      display: none;
      z-index: 20;
    }

    #resultBox button {
      margin-top: 15px;
      padding: 10px 20px;
      background-color: #4caf50;
      color: white;
      border: none;
      border-radius: 5px;
      font-size: 16px;
      cursor: pointer;
    }

    #resultBox button.retry {
      background-color: #e53935;
    }

    #startScreen {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.7);
      color: white;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      text-align: left;
      z-index: 30;
    }

    #startBox {
      background: rgba(255,255,255,0.95);
      color: black;
      border-radius: 15px;
      padding: 30px;
      max-width: 400px;
      box-shadow: 0 0 10px rgba(0,0,0,0.5);
      line-height: 1.8;
    }

    #startBtn {
      margin-top: 20px;
      display: block;
      width: 100%;
      padding: 12px;
      background-color: #ff7f50;
      border: none;
      border-radius: 8px;
      color: white;
      font-size: 18px;
      font-weight: bold;
      cursor: pointer;
      text-align: center;
    }

    #musicControl {
      position: absolute;
      bottom: 15px;
      right: 15px;
      padding: 8px 12px;
      background: rgba(255,255,255,0.8);
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-weight: bold;
      z-index: 5;
    }
  </style>
</head>

<body>
  <header>SDGs æ€§åˆ¥å¹³æ¬Š</header>
  <div id="score">ç­”å°é¡Œæ•¸ï¼š0 / 10</div>

  <!-- å•Ÿå‹•ç•«é¢ -->
  <div id="startScreen">
    <div id="startBox">
      <h2 style="text-align:center;">ğŸŒ éŠæˆ²èªªæ˜ ğŸŒ</h2>
      <p>â˜† è«‹é»é¸ç•«é¢ä¸­çš„ç†±æ±½çƒï¼Œæ¯å€‹ç†±æ±½çƒæ­é… 1 é¡Œå–®é¸é¡Œã€‚</p>
      <p>â˜† ç­”é¡Œå¾Œï¼Œä¸è«–å°ã€éŒ¯ï¼Œç­”éé¡Œçš„ç†±æ±½çƒéƒ½æœƒæ¶ˆå¤±ã€‚</p>
      <p>â˜† ç­”å°çš„é¡Œæ•¸å¦‚æœå°æ–¼ 8 é¡Œï¼Œå°±å‡ºç¾é‡æ–°æŒ‘æˆ°çš„è¨Šæ¯èˆ‡æŒ‰éˆ•ï¼Œè«‹é‡æ–°æŒ‘æˆ°ã€‚</p>
      <p>â˜† ç­”å° 8 é¡Œ(å«)ä»¥ä¸Šï¼Œå¯ä»¥é€²å…¥ä¸‹ä¸€å€‹é—œå¡ã€‚</p>
      <p>â˜† å…¨éƒ¨çš„é—œå¡å®Œæˆï¼Œå¯ä»¥è£½ä½œå€‹äººçš„éé—œè­‰æ›¸å–”ï¼</p>
      <button id="startBtn">é–‹å§‹éŠæˆ² â–¶ï¸</button>
    </div>
  </div>

  <!-- é¡Œç›®è¦–çª— -->
  <div id="questionBox">
    <h3 id="questionText"></h3>
    <div id="options"></div>
  </div>

  <!-- çµæœè¦–çª— -->
  <div id="resultBox">
    <h2 id="resultMessage"></h2>
    <button id="retryBtn" class="retry">é‡æ–°æŒ‘æˆ°</button>
    <button id="nextBtn" style="display:none;">å‰å¾€ä¸‹ä¸€é—œ</button>
  </div>

  <!-- éŸ³æ¨‚æ§åˆ¶ -->
  <button id="musicControl">ğŸµ æ’­æ”¾éŸ³æ¨‚</button>
  <audio id="bgMusic" loop>
    <source src="https://cdn.pixabay.com/audio/2023/07/19/audio_9094e179f4.mp3" type="audio/mpeg">
  </audio>

  <script>
    const questions = [
      { q: "å“ªä¸€é …è¡Œç‚ºæœ‰åŠ©æ–¼æ€§åˆ¥å¹³æ¬Šï¼Ÿ", opts: ["é™åˆ¶å¥³æ€§è·æ¥­é¸æ“‡", "å°Šé‡æ¯å€‹äººé¸æ“‡è·æ¥­çš„è‡ªç”±", "è®“ç”·æ€§ä¸èƒ½è«‹è‚²å¬°å‡"], ans: 1 },
      { q: "SDGs ä¸­ã€Œæ€§åˆ¥å¹³æ¬Šã€æ˜¯ç¬¬å¹¾é …ç›®æ¨™ï¼Ÿ", opts: ["ç¬¬1é …", "ç¬¬5é …", "ç¬¬10é …"], ans: 1 },
      { q: "ä»¥ä¸‹å“ªå€‹åšæ³•ä¿ƒé€²å…©æ€§å¹³ç­‰ï¼Ÿ", opts: ["åªè®“ç”·ç”Ÿä¸Šå¤§å­¸", "æ¨å‹•åŒå·¥åŒé…¬", "å¥³æ€§ç¦æ­¢æŠ•ç¥¨"], ans: 1 },
      { q: "æ€§åˆ¥å¹³æ¬Šçš„ä¸»è¦ç›®çš„æ˜¯ä»€éº¼ï¼Ÿ", opts: ["è®“å¥³æ€§æ¯”ç”·æ€§æ›´æœ‰æ¬ŠåŠ›", "æ¶ˆé™¤åŸºæ–¼æ€§åˆ¥çš„ä¸å¹³ç­‰", "ç¦æ­¢ç”·æ€§å¾äº‹å®¶å‹™"], ans: 1 },
      { q: "åœ¨è·å ´ä¸­æ¨å‹•æ€§åˆ¥å¹³æ¬Šçš„æ–¹æ³•æ˜¯ï¼Ÿ", opts: ["çµ¦ç”·æ€§è¼ƒé«˜è–ªæ°´", "ä¾ç…§èƒ½åŠ›çµ¦äºˆå¹³ç­‰æ©Ÿæœƒ", "å¥³æ€§ä¸èƒ½ç•¶ä¸»ç®¡"], ans: 1 },
      { q: "å“ªä¸€å€‹æ˜¯æ€§åˆ¥åˆ»æ¿å°è±¡ï¼Ÿ", opts: ["å¥³ç”Ÿæ¯”è¼ƒä¸æœƒæ•¸å­¸", "æ¯å€‹äººéƒ½æœ‰ä¸åŒèˆˆè¶£", "ç”·ç”Ÿä¹Ÿèƒ½ç…§é¡§å­©å­"], ans: 0 },
      { q: "ç‚ºä»€éº¼æ€§åˆ¥å¹³æ¬Šå°ç¤¾æœƒé‡è¦ï¼Ÿ", opts: ["ä¿ƒé€²å¤šå…ƒèˆ‡å…¬å¹³ç™¼å±•", "è®“ä¸€æ–¹æ€§åˆ¥æ›´å¼·å‹¢", "æ¸›å°‘å·¥ä½œæ©Ÿæœƒ"], ans: 0 },
      { q: "ä»¥ä¸‹å“ªç¨®æ”¿ç­–æ”¯æŒæ€§åˆ¥å¹³æ¬Šï¼Ÿ", opts: ["è¨­ç«‹å¥³æ€§é ˜å°åŸ¹è¨“è¨ˆç•«", "é™åˆ¶å¥³æ€§è·ä½", "ç¦æ­¢ç”·æ€§è‚²å¬°å‡"], ans: 0 },
      { q: "å“ªå€‹ä¾‹å­é¡¯ç¤ºæ€§åˆ¥ä¸å¹³ç­‰ï¼Ÿ", opts: ["å¥³æ€§è–ªè³‡æ¯”ç”·æ€§ä½", "ç”·å¥³æœ‰åŒç­‰å‡é·æ©Ÿæœƒ", "ç”·æ€§è«‹è‚²å¬°å‡"], ans: 0 },
      { q: "åœ¨å®¶åº­ä¸­å¯¦è¸æ€§åˆ¥å¹³æ¬Šçš„æ–¹æ³•æ˜¯ï¼Ÿ", opts: ["å…±åŒåˆ†æ“”å®¶å‹™", "å®¶äº‹æ˜¯å¥³ç”Ÿçš„è²¬ä»»", "ç”·æ€§ä¸æ‡‰å¸¶å­©å­"], ans: 0 }
    ];

    const scoreText = document.getElementById("score");
    const questionBox = document.getElementById("questionBox");
    const questionText = document.getElementById("questionText");
    const optionsDiv = document.getElementById("options");
    const resultBox = document.getElementById("resultBox");
    const resultMessage = document.getElementById("resultMessage");
    const retryBtn = document.getElementById("retryBtn");
    const nextBtn = document.getElementById("nextBtn");
    const bgMusic = document.getElementById("bgMusic");
    const musicControl = document.getElementById("musicControl");
    const startScreen = document.getElementById("startScreen");
    const startBtn = document.getElementById("startBtn");

    let correct = 0;
    let answered = 0;
    let balloons = [];

    // å•Ÿå‹•éŠæˆ²
    startBtn.onclick = () => {
      startScreen.style.display = "none";
      startGame();
      bgMusic.play();
      musicControl.textContent = "â¸ æš«åœéŸ³æ¨‚";
      playing = true;
    };

    // å»ºç«‹ç†±æ°£çƒ
    function startGame() {
      for (let i = 0; i < 10; i++) {
        const balloon = document.createElement("div");
        balloon.className = "balloon";
        const x = Math.random() * 80 + 10;
        const y = Math.random() * 30 + 5;
        const scale = [1, 1.2, 1.5][Math.floor(Math.random() * 3)];
        balloon.style.left = x + "%";
        balloon.style.top = y + "%";
        balloon.style.transform = `scale(${scale})`;
        balloon.dataset.id = i;
        balloon.addEventListener("click", () => openQuestion(balloon));
        document.body.appendChild(balloon);
        balloons.push(balloon);
      }
    }

    // é¡¯ç¤ºé¡Œç›®
    function openQuestion(balloon) {
      const qIndex = parseInt(balloon.dataset.id);
      const q = questions[qIndex];
      questionText.textContent = q.q;
      optionsDiv.innerHTML = "";
      q.opts.forEach((opt, i) => {
        const btn = document.createElement("button");
        btn.textContent = opt;
        btn.onclick = () => checkAnswer(balloon, i === q.ans);
        optionsDiv.appendChild(btn);
      });
      questionBox.style.display = "block";
    }

    // æª¢æŸ¥ç­”æ¡ˆ
    function checkAnswer(balloon, isCorrect) {
      if (isCorrect) correct++;
      answered++;
      scoreText.textContent = `ç­”å°é¡Œæ•¸ï¼š${correct} / 10`;
      questionBox.style.display = "none";
      balloon.classList.add("hidden");

      if (correct >= 8) {
        showResult(true);
      } else if (answered === 10) {
        showResult(false);
      }
    }

    // é¡¯ç¤ºçµæœ
    function showResult(passed) {
      resultBox.style.display = "block";
      if (passed) {
        resultMessage.textContent = `å¤ªæ£’äº†ï¼ä½ ç­”å° ${correct} é¡Œï¼ŒæˆåŠŸé€šéç¬¬ä¸€é—œï¼`;
        nextBtn.style.display = "inline-block";
      } else {
        resultMessage.textContent = `ä½ ç­”å° ${correct} é¡Œï¼Œæœªé”é€šé—œæ¨™æº–ï¼Œè«‹å†æŒ‘æˆ°ä¸€æ¬¡ï¼`;
        nextBtn.style.display = "none";
      }
    }

    retryBtn.onclick = () => location.reload();
    nextBtn.onclick = () => location.href = "level2.html";

    // èƒŒæ™¯éŸ³æ¨‚æ§åˆ¶
    let playing = false;
    musicControl.onclick = () => {
      if (!playing) {
        bgMusic.play();
        musicControl.textContent = "â¸ æš«åœéŸ³æ¨‚";
        playing = true;
      } else {
        bgMusic.pause();
        musicControl.textContent = "ğŸµ æ’­æ”¾éŸ³æ¨‚";
        playing = false;
      }
    };
  </script>
</body>
</html>
